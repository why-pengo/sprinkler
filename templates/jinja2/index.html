{% extends "base.html" %}
{% block content %}

<div class="container-fluid">
    <div class="container mt-2 mx-0">
        <div class="row">
            <div class="col-sm bg-white rounded-lg m-3 zonebox">
                <div class="container text-black my-2">
                    <h3>Zone 1</h3>
                </div>
                <div class="container">
                    <br />
                    <form>
                        <div class="form-group">
                            <label class="switch">
                                <input type="checkbox" name="zone" value="1">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-sm bg-white rounded-lg m-3 zonebox">
                <div class="container text-black my-2">
                    <h3>Zone 2</h3>
                </div>
                <div class="container">
                    <br />
                    <form>
                        <div class="form-group">
                            <label class="switch">
                                <input type="checkbox" name="zone" value="2">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <div class="row">

            <div class="col-sm bg-white rounded-lg m-3 zonebox">
                <div class="container text-black my-2">
                    <h3>Zone 3</h3>
                </div>
                <div class="container">
                    <br />
                    <form>
                        <div class="form-group">
                            <label class="switch">
                                <input type="checkbox" name="zone" value="3">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-sm bg-white rounded-lg m-3 zonebox">
                <div class="container text-black my-2">
                    <h3>Zone 4</h3>
                </div>
                <div class="container">
                    <br />
                    <form>
                        <div class="form-group">
                            <label class="switch">
                                <input type="checkbox" name="zone" value="4">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <div class="row">

            <div class="col-sm bg-white rounded-lg m-3 zonebox">
                <div class="container text-black my-2">
                    <h3>Zone 5</h3>
                </div>
                <div class="container">
                    <br />
                    <form>
                        <div class="form-group">
                            <label class="switch">
                                <input type="checkbox" name="zone" value="5">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>
<div id="div1">

</div>

<script>
    $(document).ready(function(){
        $('input:checkbox').click(function() {
            $('input:checkbox').not(this).prop('checked', false);
            const url = `/zone_on/${this.value}`;
            $.ajax(
                {
                    url: url, success: function(result){
                        $("#div1").html("<p>done</p>");
                        console.log(`call to ${url} result = ${result}`);
                    }
                }
            );
        });
    });
</script>
{% endblock %}
